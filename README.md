> # Wildberries internship Task L0

# БД
> **Развернут** PostgreSQL

> **Cоздана БД** WB_L0

> **Создан отдельный пользователь** WB с правами на доступ к WB_L0

> **Создана таблица** для хранения полученных данных, модель:
  
  ```console
  order_uid(PK) - character varying(19)
  data - jsonb
  ```

# Cервис
> **Подключение и подписка** на канал nats-streaming server

> **Полученные данные** пишутся в БД и сохраняются in memory(кэш)

> **При падении и последующем восстановлении сервиса** кэш восстанавливается из БД

# Сервер
> **Http Server** выдает данные по id из кэша

> **Интерфейс** для отображения полученных данных построен на шаблонах

# Дополнительно
> **Модель данных в кэше**:
  ```console
	Uid  string
	Data []byte
  ```
  
> **Каждое полученное из канала сообщение** валидируется на наличие несоответствия полей, а также длину order_uid

> **При получении сообщения сервисом** на сервер отправляется флаг ACK, если он не пришел, сервер через 1s пытается доставить сообщение повторно 

> **Подписка на получение сообщений является долговременной** и, в случае падения сервиса, подписавшись на получение сообщений с тем же именем долговременной подписки, сервис получит недоставленные изначально сообщения

